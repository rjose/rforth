= Pass 12: Add LOAD

This adds support for loading and interpreting a forth file.

== Tasks
- [x] Implement support for short strings
- [x] Open and close a file
- [x] Interpret words from file


== Status
- Effort spent: 3h
- Effort left: 0h
- Initial estimate: 3h

== Log

=== Monday, 05/18/2015
----
** 21:21 Spec'd out short strings
Not sure what the format of getting a short string should be. We have
to pass a GetString function an index which will return an address. I
suppose the address could come back in rax. If it's 0, then something
went wrong. We could pass the index in rsi.

Whatever we pick, we should make sure we're able to open a file.
----


=== Friday, 05/22/2015
----
** 19:13 Let's spec out LOAD in a bit

** 19:21 Once we have LOAD working, I'll implementing a control loop
We'll want the control loop to reset the state of the interperter at
each pass. If there was an error, we should print that to STDERR as
well. 

** 19:38 Alright, I spec'd out LOAD
What we need to do next is to create a G_input_fd and use this in
Getc. Then we need to figure out how to use the open and close system
calls. After that, it's pretty much writing the code.

** 19:41 Open system call
The id is 2. First arg is a char* to the filename. The next arg is an
open flag. We'll just need O_RDONLY (0)

** 20:36 >> Reconfigure Getc to use G_input_fd
Let's lay the groundwork for LOAD.

** 20:44 (8 min) Done
Let's check in.

** 20:46 (10 min) Let's stub out WLoad

** 20:50 (14 min) Done stubbing out LOAD
Let's check this in

** 20:51 (15 min) Let's try opening a file

** 21:01 (25 min) Implemented code to open a file
Let's give it a try.

** 21:18 (42 min) Can open a file!

** 21:26 (50 min) Let's close the file now...

** 21:29 (53 min) OK, let's see if we can close the fd

** 21:31 << (55 min) Looks good
Let's check in. We'll have to modify our read logic to indicate when
we get an EOF and then have Interpret signal something when that
happens.
----

=== Saturday, 05/23/2015

----
** 06:32 >> Indicate EOF in ReadWord
Let's add a module variable to indicate EOF. We can call it
RW_is_eof. We'll clear this at the start of a read and then set it if
we hit an EOF. Other functions can check this to see if they should
stop. 

** 06:53 (21 min) Implemented check for EOF
Also re-commented ReadWord

** 06:58 (26 min) Let's give it a try

** 07:14 (42 min) Looks like we're trying to search for EOF in the dictionary
Let's see if we can fix this.

** 07:25 (53 min) It worked!

** 07:26 (54 min) Let's see if we can load a file from a file

** 07:28 << (56 min) Works!
Let's check in. After a break, I want to re-comment Interpret and ReadNumber

** 07:35 >> Recomment Interpret and ReadNumber
After we do this, let's finish off pass12.

** 08:45 << (70 min) Done.
Let's check this in and finish pass12.
----